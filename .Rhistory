Sys.setenv(LANG = "en")
library(listdown)
library(ggplot2)
library(gtsummary)
library(dplyr)
library(survival)
library(survminer)
library(rmarkdown)
library(plotly)
library(gapminder)
library(trelliscopejs)
library(ggplot2)
# Load the Anscombe Quartet.
data(anscombe)
# Create the ggplot objects to display.
computational_components <- list(
Linear = ggplot(anscombe, aes(x = x1, y = y1)) + geom_point(),
`Non Linear` = ggplot(anscombe, aes(x = x2, y = y2)) + geom_point(),
`Outlier Vertical`= ggplot(anscombe, aes(x = x3, y = y3)) +
geom_point(),
`Outlier Horizontal` = ggplot(anscombe, aes(x = x4, y = y4)) +
geom_point())
# Save the file to disk to be read by the output R Markdown document.
saveRDS(computational_components, "comp-comp.rds")
comp <- readRDS("comp-comp.rds")
class(comp)
library(listdown)
ld <- listdown(load_cc_expr = readRDS("comp-comp.rds"),
package = "ggplot2")
anscombeexample <- c(
as.character(ld_rmarkdown_header("Anscombe's Quartet",
author = "Francis Anscombe",
date = "1973")),
ld_make_chunks(ld))
anscombeexample
rld <- function(ld) {
writeLines(ld_make_chunks(ld), "doc.Rmd")
render("doc.Rmd",html_document())
system("open doc.html")
}
#survival example:
library(listdown)
library(gtsummary)
library(dplyr)
library(survival)
library(survminer)
library(rmarkdown)
library(plotly)
library(ggplot2)
library(DT)
make_surv_cc <- function(trial, treat, surv_cond_chars) {
table_1 <- trial %>%
tbl_summary(by = all_of(treat))  %>%
gtsummary::as_flextable()
scs <- lapply(c("1", surv_cond_chars),
function(sc) {
sprintf("Surv(ttdeath, death) ~ %s + %s", treat, sc) %>%
as.formula() %>%
surv_fit(trial) %>%
ggsurvplot()
})
names(scs) <- c("Overall", tools::toTitleCase(surv_cond_chars))
list(`Table 1` = table_1, `Survival Plots` = scs, test = plot_ly(z=volcano, type="surface"))
}
surv_cc <- make_surv_cc(trial, treat = "trt",
surv_cond_chars = c("stage", "grade"))
ld_cc_dendro(surv_cc)
saveRDS(surv_cc, "surv-cc.rds")
ld_surv <- listdown(load_cc_expr = readRDS("surv-cc.rds"),
package = c("gtsummary", "flextable", "DT",
"ggplot2", "plotly"),
decorator_chunk_opts =
list(gg = list(fig.width = 8,
fig.height = 6)),
decorator = list(data.frame = datatable),
echo = FALSE,
message = FALSE,
warning = FALSE,
fig.width = 7,
fig.height = 4.5)
rld(ld_surv)
library(ggplot2)
library(gapminder)
head(gapminder)
str(gapminder)
summary(gapminder$continent)
#just oceania
qplot(year, lifeExp, data = subset(gapminder, continent == "Oceania")) +
facet_wrap(~ country + continent) + theme_bw()
View(comp)
library(ggplot2)
# Load the Anscombe Quartet.
data(anscombe)
# Create the ggplot objects to display.
computational_components <- list(
Linear = ggplot(anscombe, aes(x = x1, y = y1)) + geom_point(),
`Non Linear` = ggplot(anscombe, aes(x = x2, y = y2)) + geom_point(),
`Outlier Vertical`= ggplot(anscombe, aes(x = x3, y = y3)) +
geom_point(),
`Outlier Horizontal` = ggplot(anscombe, aes(x = x4, y = y4)) +
geom_point())
# Save the file to disk to be read by the output R Markdown document.
saveRDS(computational_components, "comp-comp.rds")
comp <- readRDS("comp-comp.rds")
class(comp)
library(ggplot2)
# Load the Anscombe Quartet.
data(anscombe)
# Create the ggplot objects to display.
computational_components <- list(
Linear = ggplot(anscombe, aes(x = x1, y = y1)) + geom_point(),
`Non Linear` = ggplot(anscombe, aes(x = x2, y = y2)) + geom_point(),
`Outlier Vertical`= ggplot(anscombe, aes(x = x3, y = y3)) +
geom_point(),
`Outlier Horizontal` = ggplot(anscombe, aes(x = x4, y = y4)) +
geom_point())
# Save the file to disk to be read by the output R Markdown document.
saveRDS(computational_components, "comp-comp.rds")
comp <- readRDS("comp-comp.rds")
class(comp)
library(listdown)
ld <- listdown(load_cc_expr = readRDS("comp-comp.rds"),
package = "ggplot2")
anscombeexample <- c(
as.character(ld_rmarkdown_header("Anscombe's Quartet",
author = "Francis Anscombe",
date = "1973")),
ld_make_chunks(ld))
anscombeexample
library(listdown)
ld <- listdown(load_cc_expr = readRDS("comp-comp.rds"),
package = "ggplot2")
anscombeexample <- c(
as.character(ld_rmarkdown_header("Anscombe's Quartet",
author = "Francis Anscombe",
date = "1973")),
ld_make_chunks(ld))
anscombeexample
